{% extends "group-list.html" %}

{% block details %}
<div class="pt-10 px-5 flex items-stretch md:items-baseline flex-col md:flex-row gap-10" style="width: 20em">
  <div class="rounded-xl bg-white shadow-lg overflow-hidden w-full">
    <div class="bg-gradient-to-r from-blue-400 to-blue-500 w-full h-11 font-bold items-center flex px-4 text-blue-50">
      <span class="text-blue-300 mr-1">Group: </span>{{ group.name }}
    </div>
    <div class="py-4 px-6">
      <h3 class="font-semibold text-gray-700 my-3 flex items-center">
        <span>Subgroups</span>
        <span class="flex-grow"></span>
        {% if membership.manage_users %}
        <span class="text-xl font-bold text-blue-500 rounded-full hover:bg-blue-400 cursor-pointer hover:text-white inline-block h-5 w-5 text-center" style="line-height: 0.9em">+</span>
        {% endif %}
      </h3>
      {% if group.subgroups %}
      <ul>
        {% for subgroup in group.subgroups %}
        <li class="flex cursor-pointer gap-3 items-center my-2 p-2 rounded-full hover:bg-gray-100" onclick="window.location = '{{ url_for('group_details', id = subgroup.id) }}'">
          <div class="rounded-full w-8 h-8 bg-gray-300"></div>
          <span class="text-sm text-gray-800">{{ subgroup.name }}</span>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <span class="text-sm text-gray-500">No subgroups</span>
      {% endif %}
      <h3 class="font-semibold text-gray-700 my-3 flex items-center">
        <span>Members</span>
        <span class="flex-grow"></span>
        {% if membership.create_users %}
        <span class="text-xl font-bold text-blue-500 rounded-full hover:bg-blue-400 cursor-pointer hover:text-white inline-block h-5 w-5 text-center" style="line-height: 0.9em">+</span>
        {% endif %}
      </h3>
      {% if group.members %}
      <ul>
        {% for membership in group.members %}
        <li class="flex gap-3 items-center my-2 p-2 rounded-full hover:bg-gray-100">
          <div class="rounded-full w-8 h-8 bg-gray-300"></div>
          <span class="text-sm text-gray-800">{{ membership.user.username }}</span>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <span class="text-sm text-gray-500">No members</span>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
